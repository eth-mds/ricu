<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Load data as id_tbl or ts_tbl objects — load_id • ICU data with R</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Load data as id_tbl or ts_tbl objects — load_id" />
<meta property="og:description" content="Building on functionality provided by load_src() and load_difftime(),
load_id() and load_ts() load data from disk as id_tbl and ts_tbl
objects respectively. Over load_difftime() both load_id() and
load_ts() provide a way to specify meta_vars() (as id_var and
index_var arguments), as well as an interval size (as interval
argument) for time series data." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ICU data with R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ricu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jss.pdf">ricu: R's Interface to Intensive Care Data (PDF)</a>
    </li>
    <li>
      <a href="../articles/uom.html">Units of measurement</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eth-mds/ricu">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Load data as <code>id_tbl</code> or <code>ts_tbl</code> objects</h1>
    
    <div class="hidden name"><code>load_tbl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Building on functionality provided by <code><a href='load_src.html'>load_src()</a></code> and <code><a href='load_src.html'>load_difftime()</a></code>,
<code>load_id()</code> and <code>load_ts()</code> load data from disk as <code>id_tbl</code> and <code>ts_tbl</code>
objects respectively. Over <code><a href='load_src.html'>load_difftime()</a></code> both <code>load_id()</code> and
<code>load_ts()</code> provide a way to specify <code><a href='id_vars.html'>meta_vars()</a></code> (as <code>id_var</code> and
<code>index_var</code> arguments), as well as an interval size (as <code>interval</code>
argument) for time series data.</p>
    </div>

    <pre class="usage"><span class='fu'>load_id</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for src_tbl</span>
<span class='fu'>load_id</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>rows</span>,
  cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  interval <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>1L</span><span class='op'>)</span>,
  time_vars <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>time_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for character</span>
<span class='fu'>load_id</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>src</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for itm</span>
<span class='fu'>load_id</span><span class='op'>(</span><span class='va'>x</span>, cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for fun_itm</span>
<span class='fu'>load_id</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>load_id</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for src_tbl</span>
<span class='fu'>load_ts</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>rows</span>,
  cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  index_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>index_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  interval <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>1L</span><span class='op'>)</span>,
  time_vars <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>time_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for character</span>
<span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>src</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for itm</span>
<span class='fu'>load_ts</span><span class='op'>(</span>
  <span class='va'>x</span>,
  cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  index_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>index_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for fun_itm</span>
<span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>load_win</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for src_tbl</span>
<span class='fu'>load_win</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>rows</span>,
  cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  index_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>index_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  interval <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>1L</span><span class='op'>)</span>,
  dur_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>dur_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  dur_is_end <span class='op'>=</span> <span class='cn'>TRUE</span>,
  time_vars <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>time_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for character</span>
<span class='fu'>load_win</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>src</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for itm</span>
<span class='fu'>load_win</span><span class='op'>(</span>
  <span class='va'>x</span>,
  cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  id_var <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  index_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>index_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  dur_var <span class='op'>=</span> <span class='fu'>ricu</span><span class='fu'>::</span><span class='fu'><a href='id_vars.html'>dur_var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for fun_itm</span>
<span class='fu'>load_win</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>load_win</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Object for which to load data</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Generic consistency</p></td>
    </tr>
    <tr>
      <th>rows</th>
      <td><p>Expression used for row subsetting (NSE)</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>Character vector of column names</p></td>
    </tr>
    <tr>
      <th>id_var</th>
      <td><p>The column defining the id of <code>ts_tbl</code> and <code>id_tbl</code> objects</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>The time interval used to discretize time stamps with,
specified as <code><a href='https://rdrr.io/r/base/difftime.html'>base::difftime()</a></code> object</p></td>
    </tr>
    <tr>
      <th>time_vars</th>
      <td><p>Character vector enumerating the columns to be treated as
timestamps and thus returned as <code><a href='https://rdrr.io/r/base/difftime.html'>base::difftime()</a></code> vectors</p></td>
    </tr>
    <tr>
      <th>src</th>
      <td><p>Passed to <code><a href='new_src_tbl.html'>as_src_tbl()</a></code> in order to determine the data source</p></td>
    </tr>
    <tr>
      <th>index_var</th>
      <td><p>The column defining the index of <code>ts_tbl</code> objects</p></td>
    </tr>
    <tr>
      <th>dur_var</th>
      <td><p>The column used for determining durations</p></td>
    </tr>
    <tr>
      <th>dur_is_end</th>
      <td><p>Logical flag indicating whether to use durations as-is or
to calculated them by subtracting the <code>index_var</code> column</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code>id_tbl</code> or a <code>ts_tbl</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>While for <code><a href='load_src.html'>load_difftime()</a></code> the ID variable can be suggested, the function
only returns a best effort at fulfilling this request. In some cases, where
the data does not allow for the desired ID type, data is returned using the
ID system (among all available ones for the given table) with highest
cardinality. Both <code>load_id()</code> and <code>load_ts()</code> are guaranteed to return an
object with <code><a href='id_vars.html'>id_vars()</a></code> set as requested by the <code>id_var</code> argument.
Internally, the change of ID system is performed by <code><a href='change_id.html'>change_id()</a></code>.</p>
<p>Additionally, while times returned by <code><a href='load_src.html'>load_difftime()</a></code> are in 1 minute
resolution, the time series step size can be specified by the <code>interval</code>
argument when calling <code>load_id()</code> or <code>load_ts()</code>. This rounding and
potential change of time unit is performed by <code><a href='rename_cols.html'>change_interval()</a></code> on all
columns specified by the <code>time_vars</code> argument. All time stamps are relative
to the origin provided by the ID system. This means that for an <code>id_var</code>
corresponding to hospital IDs, times are relative to hospital admission.</p>
<p>When <code>load_id()</code> (or <code>load_ts()</code>) is called on <code><a href='new_itm.html'>itm</a></code> objects
instead of <code><a href='new_src_tbl.html'>src_tbl</a></code> (or objects that can be coerced to
<code>src_tbl</code>), The row-subsetting is performed according the the specification
as provided by the <code>itm</code> object. Furthermore, at default settings, columns
are returned as required by the <code>itm</code> object and <code>id_var</code> (as well as
<code>index_var</code>) are set accordingly if specified by the <code>itm</code> or set to
default values for the given <code>src_tbl</code> object if not explicitly specified.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://physionet.org/content/mimiciii-demo/1.4'>mimic.demo</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>load_id</span><span class='op'>(</span><span class='st'>"admissions"</span>, <span class='st'>"mimic_demo"</span>, cols <span class='op'>=</span> <span class='st'>"admission_type"</span><span class='op'>)</span>

<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>mimic_demo</span><span class='op'>$</span><span class='va'>labevents</span>, <span class='va'>itemid</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>50809L</span>, <span class='fl'>50931L</span><span class='op'>)</span>,
               cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"itemid"</span>, <span class='st'>"valuenum"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>glu</span> <span class='op'>&lt;-</span> <span class='fu'><a href='new_itm.html'>new_itm</a></span><span class='op'>(</span>src <span class='op'>=</span> <span class='st'>"mimic_demo"</span>, table <span class='op'>=</span> <span class='st'>"labevents"</span>,
               sub_var <span class='op'>=</span> <span class='st'>"itemid"</span>, ids <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>50809L</span>, <span class='fl'>50931L</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='fu'>load_ts</span><span class='op'>(</span><span class='va'>glu</span><span class='op'>)</span>, <span class='va'>dat</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Bennett, Drago Plecko, Ida-Fong Ukor.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


