<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Time series utility functions — expand • ICU data with R</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Time series utility functions — expand" />
<meta property="og:description" content="ICU data as handled by ricu is mostly comprised of time series data and as
such, several utility functions are available for working with time series
data in addition to a class dedicated to representing time series data (see
ts_tbl()). Some terminology to begin with: a time series is considered
to have gaps if, per (combination of) ID variable value(s), some time steps
are missing. Expanding and collapsing mean to change between
representations where time steps are explicit or encoded as interval with
start and end times. For sliding window-type operations, slide() means to
iterate over time-windows, slide_index() means to iterate over certain
time-windows, selected relative to the index and hop() means to iterate
over time-windows selected in absolute terms." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ICU data with R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ricu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jss.pdf">\pkg{ricu}: \proglang{R}'s Interface to Intensive Care Data (PDF)</a>
    </li>
    <li>
      <a href="../articles/uom.html">Units of measurement</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eth-mds/ricu">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time series utility functions</h1>
    
    <div class="hidden name"><code>ts_utils.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>ICU data as handled by <code>ricu</code> is mostly comprised of time series data and as
such, several utility functions are available for working with time series
data in addition to a class dedicated to representing time series data (see
<code><a href='id_tbl.html'>ts_tbl()</a></code>). Some terminology to begin with: a time series is considered
to have gaps if, per (combination of) ID variable value(s), some time steps
are missing. Expanding and collapsing mean to change between
representations where time steps are explicit or encoded as interval with
start and end times. For sliding window-type operations, <code>slide()</code> means to
iterate over time-windows, <code>slide_index()</code> means to iterate over certain
time-windows, selected relative to the index and <code>hop()</code> means to iterate
over time-windows selected in absolute terms.</p>
    </div>

    <pre class="usage"><span class='fu'>expand</span><span class='op'>(</span>
  <span class='va'>x</span>,
  start_var <span class='op'>=</span> <span class='st'>"start"</span>,
  end_var <span class='op'>=</span> <span class='st'>"end"</span>,
  step_size <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_index <span class='op'>=</span> <span class='cn'>NULL</span>,
  keep_vars <span class='op'>=</span> <span class='fu'><a href='id_vars.html'>id_vars</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>collapse</span><span class='op'>(</span>
  <span class='va'>x</span>,
  id_vars <span class='op'>=</span> <span class='cn'>NULL</span>,
  index_var <span class='op'>=</span> <span class='cn'>NULL</span>,
  start_var <span class='op'>=</span> <span class='st'>"start"</span>,
  end_var <span class='op'>=</span> <span class='st'>"end"</span>,
  env <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>has_no_gaps</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>has_gaps</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='fu'>is_regular</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>fill_gaps</span><span class='op'>(</span><span class='va'>x</span>, limits <span class='op'>=</span> <span class='fu'>collapse</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, start_var <span class='op'>=</span> <span class='st'>"start"</span>, end_var <span class='op'>=</span> <span class='st'>"end"</span><span class='op'>)</span>

<span class='fu'>remove_gaps</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>slide</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>expr</span>, <span class='va'>before</span>, after <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>0L</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>slide_index</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>expr</span>, <span class='va'>index</span>, <span class='va'>before</span>, after <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>0L</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>hop</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>expr</span>,
  <span class='va'>windows</span>,
  full_window <span class='op'>=</span> <span class='cn'>FALSE</span>,
  lwr_col <span class='op'>=</span> <span class='st'>"min_time"</span>,
  upr_col <span class='op'>=</span> <span class='st'>"max_time"</span>,
  left_closed <span class='op'>=</span> <span class='cn'>TRUE</span>,
  right_closed <span class='op'>=</span> <span class='cn'>TRUE</span>,
  eval_env <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>ts_tbl</code> object to use</p></td>
    </tr>
    <tr>
      <th>start_var, end_var</th>
      <td><p>Name of the columns that represent lower and upper
windows bounds</p></td>
    </tr>
    <tr>
      <th>step_size</th>
      <td><p>Controls the step size used to interpolate between
<code>start_var</code> and <code>end_var</code></p></td>
    </tr>
    <tr>
      <th>new_index</th>
      <td><p>Name of the new index column</p></td>
    </tr>
    <tr>
      <th>keep_vars</th>
      <td><p>Names of the columns to hold onto</p></td>
    </tr>
    <tr>
      <th>id_vars, index_var</th>
      <td><p>ID and index variables</p></td>
    </tr>
    <tr>
      <th>env</th>
      <td><p>Environment used as parent to the environment used to evaluate
expressions passes as <code>...</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Passed to <code>hop_quo()</code> and ultimately to
<code>data.table::[()</code></p></td>
    </tr>
    <tr>
      <th>limits</th>
      <td><p>A table with columns for lower and upper window bounds</p></td>
    </tr>
    <tr>
      <th>expr</th>
      <td><p>Expression (quoted for <code>*_quo</code> and unquoted otherwise) to be
evaluated over each window</p></td>
    </tr>
    <tr>
      <th>before, after</th>
      <td><p>Time span to look back/forward</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>A vector of times around which windows are spanned (relative
to the index)</p></td>
    </tr>
    <tr>
      <th>windows</th>
      <td><p>An <code>icu_tbl</code> defining the windows to span</p></td>
    </tr>
    <tr>
      <th>full_window</th>
      <td><p>Logical flag controlling how the situation is handled
where the sliding window extends beyond available data</p></td>
    </tr>
    <tr>
      <th>lwr_col, upr_col</th>
      <td><p>Names of columns (in <code>windows</code>) of lower/upper
window bounds</p></td>
    </tr>
    <tr>
      <th>left_closed, right_closed</th>
      <td><p>Logical flag indicating whether intervals
are closed (default) or open.</p></td>
    </tr>
    <tr>
      <th>eval_env</th>
      <td><p>Environment in which <code>expr</code> is substituted; <code>NULL</code> resolves
to the environment in which <code>expr</code> was created</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Most functions return <code>ts_tbl</code> objects with the exception of
<code>has_gaps()</code>/<code>has_no_gaps()</code>/<code>is_regular()</code>, which return logical flags.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A gap in a <code>ts_tbl</code> object is a missing time step, i.e. a missing entry in
the sequence <code><a href='https://rdrr.io/r/base/seq.html'>seq(min(index), max(index), by = interval)</a></code> in at least one
group (as defined by <code><a href='id_vars.html'>id_vars()</a></code>, where the extrema are calculated per
group. In this case, <code>has_gaps()</code> will return <code>TRUE</code>. The function
<code>is_regular()</code> checks whether the time series has no gaps, in addition to
the object being sorted and unique (see <code><a href='rename_cols.html'>is_sorted()</a></code> and <code><a href='rename_cols.html'>is_unique()</a></code>).
In order to transform a time series containing gaps into a regular time
series, <code>fill_gaps()</code> will fill missing time steps with <code>NA</code> values in all
<code><a href='id_vars.html'>data_vars()</a></code> columns, while <code>remove_gaps()</code> provides the inverse operation
of removing time steps that consist of <code>NA</code> values in <code><a href='id_vars.html'>data_vars()</a></code> columns.</p>
<p>An <code>expand()</code> operation performed on an object inheriting from <code>data.table</code>
yields a <code>ts_tbl</code> where time-steps encoded by columns <code>start_var</code> and
<code>end_var</code> are made explicit with values in <code>keep_vars</code> being appropriately
repeated. The inverse operation is available as <code>collapse()</code>, which groups
by <code>id_vars</code>, represents <code>index_var</code> as group-wise extrema in two new
columns <code>start_var</code> and <code>end_var</code> and allows for further data summary using
<code>...</code>.</p>
<p>Sliding-window type operations are available as <code>slide()</code>, <code>slide_index()</code>
and <code>hop()</code> (function naming is inspired by the CRAN package <code>slider</code>). The
most flexible of the three, <code>hop</code> takes as input a <code>ts_tbl</code> object <code>x</code>
containing the data, an <code>id_tbl</code> object <code>windows</code>, containing for each ID
the desired windows represented by two columns <code>lwr_col</code> and <code>upr_col</code>, as
well as an expression <code>expr</code> to be evaluated per window. At the other end
of the spectrum, <code>slide()</code> spans windows for every ID and available
time-step using the arguments <code>before</code> and <code>after</code>, while <code>slide_index()</code>
can be seen as a compromise between the two, where windows are spanned for
certain time-points, specified by <code>index</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='id_tbl.html'>ts_tbl</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, y <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span>, z <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>)</span>, val <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span>,
              index_var <span class='op'>=</span> <span class='st'>"y"</span><span class='op'>)</span>
<span class='va'>exp</span> <span class='op'>&lt;-</span> <span class='fu'>expand</span><span class='op'>(</span><span class='va'>tbl</span>, <span class='st'>"y"</span>, <span class='st'>"z"</span>, step_size <span class='op'>=</span> <span class='fl'>1L</span>, new_index <span class='op'>=</span> <span class='st'>"y"</span>,
              keep_vars <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"x"</span>, <span class='st'>"val"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>col</span> <span class='op'>&lt;-</span> <span class='fu'>collapse</span><span class='op'>(</span><span class='va'>exp</span>, start_var <span class='op'>=</span> <span class='st'>"y"</span>, end_var <span class='op'>=</span> <span class='st'>"z"</span>, val <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>val</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>tbl</span>, <span class='va'>col</span>, check.attributes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='id_tbl.html'>ts_tbl</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sequence.html'>sequence</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>, z <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>15</span><span class='op'>)</span>

<span class='va'>win</span> <span class='op'>&lt;-</span> <span class='fu'><a href='id_tbl.html'>id_tbl</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span>, a <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>, b <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>hop</span><span class='op'>(</span><span class='va'>tbl</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span><span class='op'>)</span>, <span class='va'>win</span>, lwr_col <span class='op'>=</span> <span class='st'>"a"</span>, upr_col <span class='op'>=</span> <span class='st'>"b"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># An `id_tbl`: 2 ✖ 4</span><span>
#&gt; </span><span style='color: #949494;'># Id var:      `x`</span><span>
#&gt;       x b       a           z
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;drtn&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;drtn&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #949494;'>1</span><span>     3 3 hours 2 hours    11
#&gt; </span><span style='color: #949494;'>2</span><span>     4 4 hours 1 hours    34</div><div class='input'><span class='fu'>slide_index</span><span class='op'>(</span><span class='va'>tbl</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span><span class='op'>)</span>, <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>, before <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A `ts_tbl`: 10 ✖ 3</span><span>
#&gt; </span><span style='color: #949494;'># Id var:     `x`</span><span>
#&gt; </span><span style='color: #949494;'># Index var:  `y` (1 hours)</span><span>
#&gt;        x y           z
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;drtn&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt;  </span><span style='color: #949494;'>1</span><span>     1 4 hours    </span><span style='color: #BB0000;'>NA</span><span>
#&gt;  </span><span style='color: #949494;'>2</span><span>     1 5 hours    </span><span style='color: #BB0000;'>NA</span><span>
#&gt;  </span><span style='color: #949494;'>3</span><span>     2 4 hours     3
#&gt;  </span><span style='color: #949494;'>4</span><span>     2 5 hours    </span><span style='color: #BB0000;'>NA</span><span>
#&gt;  </span><span style='color: #949494;'>5</span><span>     3 4 hours    11
#&gt;  </span><span style='color: #949494;'>6</span><span>     3 5 hours     6
#&gt;  </span><span style='color: #949494;'>7</span><span>     4 4 hours    27
#&gt;  </span><span style='color: #949494;'>8</span><span>     4 5 hours    19
#&gt;  </span><span style='color: #949494;'>9</span><span>     5 4 hours    39
#&gt; </span><span style='color: #949494;'>10</span><span>     5 5 hours    42</div><div class='input'><span class='fu'>slide</span><span class='op'>(</span><span class='va'>tbl</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span><span class='op'>)</span>, before <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A `ts_tbl`: 15 ✖ 3</span><span>
#&gt; </span><span style='color: #949494;'># Id var:     `x`</span><span>
#&gt; </span><span style='color: #949494;'># Index var:  `y` (1 hours)</span><span>
#&gt;        x y           z
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;drtn&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt;  </span><span style='color: #949494;'>1</span><span>     1 1 hours     1
#&gt;  </span><span style='color: #949494;'>2</span><span>     2 1 hours     2
#&gt;  </span><span style='color: #949494;'>3</span><span>     2 2 hours     5
#&gt;  </span><span style='color: #949494;'>4</span><span>     3 1 hours     4
#&gt;  </span><span style='color: #949494;'>5</span><span>     3 2 hours     9
#&gt;  </span><span style='color: #949494;'>6</span><span>     3 3 hours    15
#&gt;  </span><span style='color: #949494;'>7</span><span>     4 1 hours     7
#&gt;  </span><span style='color: #949494;'>8</span><span>     4 2 hours    15
#&gt;  </span><span style='color: #949494;'>9</span><span>     4 3 hours    24
#&gt; </span><span style='color: #949494;'>10</span><span>     4 4 hours    27
#&gt; </span><span style='color: #949494;'>11</span><span>     5 1 hours    11
#&gt; </span><span style='color: #949494;'>12</span><span>     5 2 hours    23
#&gt; </span><span style='color: #949494;'>13</span><span>     5 3 hours    36
#&gt; </span><span style='color: #949494;'>14</span><span>     5 4 hours    39
#&gt; </span><span style='color: #949494;'>15</span><span>     5 5 hours    42</div><div class='input'>
<span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='id_tbl.html'>ts_tbl</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>4</span>, <span class='fl'>3</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sequence.html'>sequence</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>, z <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>7</span><span class='op'>)</span>
<span class='fu'>has_no_gaps</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>is_regular</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='va'>tbl</span><span class='op'>[</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span>
<span class='fu'>has_no_gaps</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>is_regular</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='va'>tbl</span><span class='op'>[</span><span class='fl'>6</span>, <span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='secs.html'>hours</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span>
<span class='fu'>has_no_gaps</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'>is_regular</span><span class='op'>(</span><span class='va'>tbl</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Bennett, Drago Plecko, Ida-Fong Ukor.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


